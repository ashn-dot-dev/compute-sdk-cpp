<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fastly Compute C++ SDK: fastly::Request Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Fastly Compute C++ SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classfastly_1_1_request.html','','classfastly_1_1_request-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">fastly::Request Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="request_8h_source.html">request.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8a05f633fa4ef4433ba4c82a7106f82e" id="r_a8a05f633fa4ef4433ba4c82a7106f82e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a05f633fa4ef4433ba4c82a7106f82e">Request</a> (<a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a> method, std::string url)</td></tr>
<tr class="memitem:a005d782ff20866e85278d461bc17a5a5" id="r_a005d782ff20866e85278d461bc17a5a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a005d782ff20866e85278d461bc17a5a5">is_from_client</a> ()</td></tr>
<tr class="memitem:a4990ff9c9d1015c65b261be2e9577297" id="r_a4990ff9c9d1015c65b261be2e9577297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4990ff9c9d1015c65b261be2e9577297">clone_without_body</a> ()</td></tr>
<tr class="memitem:a783a4924ec165ea57c9023e4d0871c02" id="r_a783a4924ec165ea57c9023e4d0871c02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a783a4924ec165ea57c9023e4d0871c02">clone_with_body</a> ()</td></tr>
<tr class="memitem:a873211857c6780a5a024356185fd4796" id="r_a873211857c6780a5a024356185fd4796"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_response.html">Response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a873211857c6780a5a024356185fd4796">send</a> (<a class="el" href="classfastly_1_1backend_1_1_backend.html">fastly::backend::Backend</a> backend)</td></tr>
<tr class="memitem:a0d1a40d6eaa7c926174bd85f546cfeeb" id="r_a0d1a40d6eaa7c926174bd85f546cfeeb"><td class="memItemLeft" align="right" valign="top">request::PendingRequest&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d1a40d6eaa7c926174bd85f546cfeeb">send_async</a> (<a class="el" href="classfastly_1_1backend_1_1_backend.html">fastly::backend::Backend</a> backend)</td></tr>
<tr class="memitem:a998b30e6d08db1391c91f8006360cdb7" id="r_a998b30e6d08db1391c91f8006360cdb7"><td class="memItemLeft" align="right" valign="top">std::pair&lt; StreamingBody, request::PendingRequest &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a998b30e6d08db1391c91f8006360cdb7">send_async_streaming</a> (<a class="el" href="classfastly_1_1backend_1_1_backend.html">fastly::backend::Backend</a> backend)</td></tr>
<tr class="memitem:ad5724ea0cfd42bb3e188bf1e2a5a7d47" id="r_ad5724ea0cfd42bb3e188bf1e2a5a7d47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5724ea0cfd42bb3e188bf1e2a5a7d47">with_body</a> (<a class="el" href="classfastly_1_1http_1_1_body.html">Body</a> body)</td></tr>
<tr class="memdesc:ad5724ea0cfd42bb3e188bf1e2a5a7d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aa6c23aca8847b20269f740d4f6f71f30" title="Set the given value as the request&#39;s body.">Request::set_body()</a></span>.  <br /></td></tr>
<tr class="memitem:a38bd8b681b15d72a2b46a3f6abeaf194" id="r_a38bd8b681b15d72a2b46a3f6abeaf194"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38bd8b681b15d72a2b46a3f6abeaf194">has_body</a> ()</td></tr>
<tr class="memdesc:a38bd8b681b15d72a2b46a3f6abeaf194"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <span class="tt">true</span> if this request has a body.  <br /></td></tr>
<tr class="memitem:a0de70d6896196f0d03e5f7dd1da9c578" id="r_a0de70d6896196f0d03e5f7dd1da9c578"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0de70d6896196f0d03e5f7dd1da9c578">take_body</a> ()</td></tr>
<tr class="memitem:aa6c23aca8847b20269f740d4f6f71f30" id="r_aa6c23aca8847b20269f740d4f6f71f30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6c23aca8847b20269f740d4f6f71f30">set_body</a> (<a class="el" href="classfastly_1_1http_1_1_body.html">Body</a> body)</td></tr>
<tr class="memdesc:aa6c23aca8847b20269f740d4f6f71f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given value as the request's body.  <br /></td></tr>
<tr class="memitem:af31af63be0ba1a460c100927e07f2a06" id="r_af31af63be0ba1a460c100927e07f2a06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af31af63be0ba1a460c100927e07f2a06">append_body</a> (<a class="el" href="classfastly_1_1http_1_1_body.html">Body</a> &amp;body)</td></tr>
<tr class="memitem:a93ea942e3c90dffdcbdc442a97387819" id="r_a93ea942e3c90dffdcbdc442a97387819"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93ea942e3c90dffdcbdc442a97387819">into_body_bytes</a> ()</td></tr>
<tr class="memdesc:a93ea942e3c90dffdcbdc442a97387819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume the request and return its body as a byte vector.  <br /></td></tr>
<tr class="memitem:a0da241ef908a7f45ae0f6f057df4038a" id="r_a0da241ef908a7f45ae0f6f057df4038a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0da241ef908a7f45ae0f6f057df4038a">into_body_string</a> ()</td></tr>
<tr class="memdesc:a0da241ef908a7f45ae0f6f057df4038a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume the request and return its body as a string.  <br /></td></tr>
<tr class="memitem:a4ff82cec2759ffdb1c8b28b4de7e3f95" id="r_a4ff82cec2759ffdb1c8b28b4de7e3f95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ff82cec2759ffdb1c8b28b4de7e3f95">into_body</a> ()</td></tr>
<tr class="memdesc:a4ff82cec2759ffdb1c8b28b4de7e3f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume the request and return its body as a <span class="tt"><a class="el" href="classfastly_1_1_body.html">Body</a></span> instance.  <br /></td></tr>
<tr class="memitem:ace71d85a6ec66b4b0dbee421bba96c8d" id="r_ace71d85a6ec66b4b0dbee421bba96c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace71d85a6ec66b4b0dbee421bba96c8d">with_body_text_plain</a> (std::string body)</td></tr>
<tr class="memitem:af5d0cbb852ce4b5fab2ab1748c8f2a6f" id="r_af5d0cbb852ce4b5fab2ab1748c8f2a6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5d0cbb852ce4b5fab2ab1748c8f2a6f">set_body_text_plain</a> (std::string body)</td></tr>
<tr class="memitem:ac12fdb9cdb0afb59f11f9cb14bea9ae8" id="r_ac12fdb9cdb0afb59f11f9cb14bea9ae8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac12fdb9cdb0afb59f11f9cb14bea9ae8">with_body_text_html</a> (std::string body)</td></tr>
<tr class="memitem:acbcff9639734aaf4c0d1735390f1b09e" id="r_acbcff9639734aaf4c0d1735390f1b09e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbcff9639734aaf4c0d1735390f1b09e">set_body_text_html</a> (std::string body)</td></tr>
<tr class="memitem:aa458270d5431adfc21d5111f64ab1e1d" id="r_aa458270d5431adfc21d5111f64ab1e1d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa458270d5431adfc21d5111f64ab1e1d">take_body_string</a> ()</td></tr>
<tr class="memitem:a14c6e09cc0d55fe7d5dbcf7996edc5c6" id="r_a14c6e09cc0d55fe7d5dbcf7996edc5c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14c6e09cc0d55fe7d5dbcf7996edc5c6">with_body_octet_stream</a> (std::vector&lt; uint8_t &gt; body)</td></tr>
<tr class="memitem:ace88ef1591d4e965f2c462b05ffbd113" id="r_ace88ef1591d4e965f2c462b05ffbd113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace88ef1591d4e965f2c462b05ffbd113">set_body_octet_stream</a> (std::vector&lt; uint8_t &gt; body)</td></tr>
<tr class="memitem:a8d8c82f548da4566253cf29e72d5828f" id="r_a8d8c82f548da4566253cf29e72d5828f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d8c82f548da4566253cf29e72d5828f">take_body_bytes</a> ()</td></tr>
<tr class="memitem:a962a4df74769d3d7944df145f2db6d28" id="r_a962a4df74769d3d7944df145f2db6d28"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a962a4df74769d3d7944df145f2db6d28">get_content_type</a> ()</td></tr>
<tr class="memitem:ac30a24b5bd06457f741327a85e509da6" id="r_ac30a24b5bd06457f741327a85e509da6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac30a24b5bd06457f741327a85e509da6">with_content_type</a> (std::string mime)</td></tr>
<tr class="memitem:a7aebd9a232d36d5819cba0cc4ee1c9fa" id="r_a7aebd9a232d36d5819cba0cc4ee1c9fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7aebd9a232d36d5819cba0cc4ee1c9fa">set_content_type</a> (std::string mime)</td></tr>
<tr class="memitem:a891c17e2abab068f48297422cf0161e6" id="r_a891c17e2abab068f48297422cf0161e6"><td class="memItemLeft" align="right" valign="top">std::optional&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a891c17e2abab068f48297422cf0161e6">get_content_length</a> ()</td></tr>
<tr class="memitem:a4930a07f04ea310b8332e8e390cf246d" id="r_a4930a07f04ea310b8332e8e390cf246d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4930a07f04ea310b8332e8e390cf246d">contains_header</a> (std::string name)</td></tr>
<tr class="memdesc:a4930a07f04ea310b8332e8e390cf246d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the given header name is present in the request.  <br /></td></tr>
<tr class="memitem:a66d8935c66795845492b16a522e70c51" id="r_a66d8935c66795845492b16a522e70c51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66d8935c66795845492b16a522e70c51">with_header</a> (std::string name, std::string value)</td></tr>
<tr class="memdesc:a66d8935c66795845492b16a522e70c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a2975315d11bce02d2941c33d59663457">Request::append_header()</a></span>.  <br /></td></tr>
<tr class="memitem:a9c1f6a37878fec7d168d0c858c16f749" id="r_a9c1f6a37878fec7d168d0c858c16f749"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c1f6a37878fec7d168d0c858c16f749">with_set_header</a> (std::string name, std::string value)</td></tr>
<tr class="memdesc:a9c1f6a37878fec7d168d0c858c16f749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a7f4ed82de6857af104bdc954a99fa90e">Request::set_header()</a></span>.  <br /></td></tr>
<tr class="memitem:a182ca56e393a1b627e58a34cff55ff87" id="r_a182ca56e393a1b627e58a34cff55ff87"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a182ca56e393a1b627e58a34cff55ff87">get_header</a> (std::string name)</td></tr>
<tr class="memitem:a85c090a8cd61fccdfd2128bffcddf207" id="r_a85c090a8cd61fccdfd2128bffcddf207"><td class="memItemLeft" align="right" valign="top">HeaderValuesIter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85c090a8cd61fccdfd2128bffcddf207">get_header_all</a> (std::string name)</td></tr>
<tr class="memdesc:a85c090a8cd61fccdfd2128bffcddf207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an iterator of all the values of a header.  <br /></td></tr>
<tr class="memitem:a7f4ed82de6857af104bdc954a99fa90e" id="r_a7f4ed82de6857af104bdc954a99fa90e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f4ed82de6857af104bdc954a99fa90e">set_header</a> (std::string name, std::string value)</td></tr>
<tr class="memitem:a2975315d11bce02d2941c33d59663457" id="r_a2975315d11bce02d2941c33d59663457"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2975315d11bce02d2941c33d59663457">append_header</a> (std::string name, std::string value)</td></tr>
<tr class="memitem:aa6a62accb94472d07d0f48cc3a947b12" id="r_aa6a62accb94472d07d0f48cc3a947b12"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6a62accb94472d07d0f48cc3a947b12">remove_header</a> (std::string name)</td></tr>
<tr class="memitem:a21a10d5172368c12baf047a2debfde26" id="r_a21a10d5172368c12baf047a2debfde26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21a10d5172368c12baf047a2debfde26">with_method</a> (<a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a> method)</td></tr>
<tr class="memdesc:a21a10d5172368c12baf047a2debfde26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aa59f643e6aea793a801aa49d184af660" title="Set the request method.">Request::set_method()</a></span>.  <br /></td></tr>
<tr class="memitem:a9eb3c08f1f2323da39a3b721b07f6571" id="r_a9eb3c08f1f2323da39a3b721b07f6571"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eb3c08f1f2323da39a3b721b07f6571">get_method</a> ()</td></tr>
<tr class="memdesc:a9eb3c08f1f2323da39a3b721b07f6571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the request method.  <br /></td></tr>
<tr class="memitem:aa59f643e6aea793a801aa49d184af660" id="r_aa59f643e6aea793a801aa49d184af660"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa59f643e6aea793a801aa49d184af660">set_method</a> (<a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a> method)</td></tr>
<tr class="memdesc:aa59f643e6aea793a801aa49d184af660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the request method.  <br /></td></tr>
<tr class="memitem:a2d26cc516f1d9d2f029790f6f5e3df2e" id="r_a2d26cc516f1d9d2f029790f6f5e3df2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d26cc516f1d9d2f029790f6f5e3df2e">with_url</a> (std::string url)</td></tr>
<tr class="memdesc:a2d26cc516f1d9d2f029790f6f5e3df2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#af320efd5bcf6d14d01cb11cd3d0d4ab1">Request::set_url()</a></span>.  <br /></td></tr>
<tr class="memitem:a45d2168567b596349a36048931219197" id="r_a45d2168567b596349a36048931219197"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45d2168567b596349a36048931219197">get_url</a> ()</td></tr>
<tr class="memdesc:a45d2168567b596349a36048931219197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the request URL as a string.  <br /></td></tr>
<tr class="memitem:af320efd5bcf6d14d01cb11cd3d0d4ab1" id="r_af320efd5bcf6d14d01cb11cd3d0d4ab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af320efd5bcf6d14d01cb11cd3d0d4ab1">set_url</a> (std::string url)</td></tr>
<tr class="memitem:a9700fa0ea3b1225fc7b47606b51a24d8" id="r_a9700fa0ea3b1225fc7b47606b51a24d8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9700fa0ea3b1225fc7b47606b51a24d8">get_path</a> ()</td></tr>
<tr class="memitem:a4baff6fe0c3529b50f28665a6b4a8d70" id="r_a4baff6fe0c3529b50f28665a6b4a8d70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4baff6fe0c3529b50f28665a6b4a8d70">with_path</a> (std::string path)</td></tr>
<tr class="memdesc:a4baff6fe0c3529b50f28665a6b4a8d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aeb17a2b128a5922547bf1e261a7fda60">Request::set_path()</a></span>.  <br /></td></tr>
<tr class="memitem:aeb17a2b128a5922547bf1e261a7fda60" id="r_aeb17a2b128a5922547bf1e261a7fda60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb17a2b128a5922547bf1e261a7fda60">set_path</a> (std::string path)</td></tr>
<tr class="memitem:ad4cfba93963858e1ff5fc763013be1cc" id="r_ad4cfba93963858e1ff5fc763013be1cc"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4cfba93963858e1ff5fc763013be1cc">get_query_string</a> ()</td></tr>
<tr class="memitem:aa0fd41ed99d93369602c71b8e8b664f8" id="r_aa0fd41ed99d93369602c71b8e8b664f8"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0fd41ed99d93369602c71b8e8b664f8">get_query_parameter</a> (std::string param)</td></tr>
<tr class="memitem:abb67fecf458cf5ec7bd5111375efe8aa" id="r_abb67fecf458cf5ec7bd5111375efe8aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb67fecf458cf5ec7bd5111375efe8aa">with_query_string</a> (std::string query)</td></tr>
<tr class="memdesc:abb67fecf458cf5ec7bd5111375efe8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt">Request::set_query()</span>.  <br /></td></tr>
<tr class="memitem:af7a035e4f0804694292f90fdcfbf2e7b" id="r_af7a035e4f0804694292f90fdcfbf2e7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7a035e4f0804694292f90fdcfbf2e7b">set_query_string</a> (std::string query)</td></tr>
<tr class="memitem:ad639de6aa823ea8b5db0c0a314804108" id="r_ad639de6aa823ea8b5db0c0a314804108"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad639de6aa823ea8b5db0c0a314804108">remove_query</a> ()</td></tr>
<tr class="memdesc:ad639de6aa823ea8b5db0c0a314804108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the query component from the request URL, if one exists.  <br /></td></tr>
<tr class="memitem:a2b8cc7217a99adec1f62bbd5facb242f" id="r_a2b8cc7217a99adec1f62bbd5facb242f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b8cc7217a99adec1f62bbd5facb242f">with_pass</a> (bool pass)</td></tr>
<tr class="memdesc:a2b8cc7217a99adec1f62bbd5facb242f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a20580d1987d296297147891257b1a0a1">Request::set_pass()</a></span>.  <br /></td></tr>
<tr class="memitem:a20580d1987d296297147891257b1a0a1" id="r_a20580d1987d296297147891257b1a0a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20580d1987d296297147891257b1a0a1">set_pass</a> (bool pass)</td></tr>
<tr class="memitem:a209f7f6b0fc66d2fd1af1acb9419ad85" id="r_a209f7f6b0fc66d2fd1af1acb9419ad85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a209f7f6b0fc66d2fd1af1acb9419ad85">with_ttl</a> (uint32_t ttl)</td></tr>
<tr class="memdesc:a209f7f6b0fc66d2fd1af1acb9419ad85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#af6e4e9a778f3d43c431a6d010bde30a0">Request::set_ttl()</a></span>.  <br /></td></tr>
<tr class="memitem:af6e4e9a778f3d43c431a6d010bde30a0" id="r_af6e4e9a778f3d43c431a6d010bde30a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6e4e9a778f3d43c431a6d010bde30a0">set_ttl</a> (uint32_t ttl)</td></tr>
<tr class="memitem:a6d81449521d39f73fb059b41b4582a24" id="r_a6d81449521d39f73fb059b41b4582a24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d81449521d39f73fb059b41b4582a24">with_stale_while_revalidate</a> (uint32_t swr)</td></tr>
<tr class="memitem:aeda4e5c2d629272f30202e16a7c26f9f" id="r_aeda4e5c2d629272f30202e16a7c26f9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeda4e5c2d629272f30202e16a7c26f9f">set_stale_while_revalidate</a> (uint32_t swr)</td></tr>
<tr class="memitem:a93572744211c7cee39948672cbbc5936" id="r_a93572744211c7cee39948672cbbc5936"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93572744211c7cee39948672cbbc5936">with_pci</a> (bool pci)</td></tr>
<tr class="memdesc:a93572744211c7cee39948672cbbc5936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a2bf3389756c3f84791d6f33a5658e958">Request::set_pci()</a></span>.  <br /></td></tr>
<tr class="memitem:a2bf3389756c3f84791d6f33a5658e958" id="r_a2bf3389756c3f84791d6f33a5658e958"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bf3389756c3f84791d6f33a5658e958">set_pci</a> (bool pci)</td></tr>
<tr class="memitem:ac7474eb0dda6b9b05394ca5b1fa2de78" id="r_ac7474eb0dda6b9b05394ca5b1fa2de78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7474eb0dda6b9b05394ca5b1fa2de78">with_surrogate_key</a> (std::string sk)</td></tr>
<tr class="memitem:a2cf3641d7280bda6646f8654e3208f54" id="r_a2cf3641d7280bda6646f8654e3208f54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cf3641d7280bda6646f8654e3208f54">set_surrogate_key</a> (std::string sk)</td></tr>
<tr class="memitem:ac3f6d63177dca86b1cccf58bb662aa0d" id="r_ac3f6d63177dca86b1cccf58bb662aa0d"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3f6d63177dca86b1cccf58bb662aa0d">get_client_ip_addr</a> ()</td></tr>
<tr class="memitem:a9740232bc94696ba7a632a0ec6a6aaa0" id="r_a9740232bc94696ba7a632a0ec6a6aaa0"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9740232bc94696ba7a632a0ec6a6aaa0">get_server_ip_addr</a> ()</td></tr>
<tr class="memitem:ad51a74cc90a9cdf8e9580d0fe8fb9b40" id="r_ad51a74cc90a9cdf8e9580d0fe8fb9b40"><td class="memItemLeft" align="right" valign="top">std::optional&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad51a74cc90a9cdf8e9580d0fe8fb9b40">get_client_ddos_detected</a> ()</td></tr>
<tr class="memitem:a84f13ddd4f9cf46699232fa38a3d3be7" id="r_a84f13ddd4f9cf46699232fa38a3d3be7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84f13ddd4f9cf46699232fa38a3d3be7">set_auto_decompress_gzip</a> (bool gzip)</td></tr>
<tr class="memitem:a232eddc8db49b9f9a61e44cbe4680ea4" id="r_a232eddc8db49b9f9a61e44cbe4680ea4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a232eddc8db49b9f9a61e44cbe4680ea4">with_auto_decompress_gzip</a> (bool gzip)</td></tr>
<tr class="memitem:a0ca2781d200857c80c18984b96009e57" id="r_a0ca2781d200857c80c18984b96009e57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ca2781d200857c80c18984b96009e57">fastly_key_is_valid</a> ()</td></tr>
<tr class="memitem:ae1280ba9662064969e5a64c4fb89e3d5" id="r_ae1280ba9662064969e5a64c4fb89e3d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1280ba9662064969e5a64c4fb89e3d5">set_cache_key</a> (std::string key)</td></tr>
<tr class="memitem:a97f2cc7b8ca40274834148449fc8c57f" id="r_a97f2cc7b8ca40274834148449fc8c57f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97f2cc7b8ca40274834148449fc8c57f">set_cache_key</a> (std::vector&lt; uint8_t &gt; key)</td></tr>
<tr class="memitem:a44b9187811a2b6e7a7fc624bea65f7c0" id="r_a44b9187811a2b6e7a7fc624bea65f7c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44b9187811a2b6e7a7fc624bea65f7c0">with_cache_key</a> (std::string key)</td></tr>
<tr class="memdesc:a44b9187811a2b6e7a7fc624bea65f7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#ae1280ba9662064969e5a64c4fb89e3d5">Request::set_cache_key()</a></span>.  <br /></td></tr>
<tr class="memitem:a3ece634d204ec208afb1dc01c50ea962" id="r_a3ece634d204ec208afb1dc01c50ea962"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ece634d204ec208afb1dc01c50ea962">with_cache_key</a> (std::vector&lt; uint8_t &gt; key)</td></tr>
<tr class="memdesc:a3ece634d204ec208afb1dc01c50ea962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#ae1280ba9662064969e5a64c4fb89e3d5">Request::set_cache_key()</a></span>.  <br /></td></tr>
<tr class="memitem:a453d36234ed9747dc1f6f9bde84ba5ce" id="r_a453d36234ed9747dc1f6f9bde84ba5ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a453d36234ed9747dc1f6f9bde84ba5ce">is_cacheable</a> ()</td></tr>
<tr class="memdesc:a453d36234ed9747dc1f6f9bde84ba5ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets whether the request is potentially cacheable.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1a38aed07fbd0de74e5f15c65d64810e" id="r_a1a38aed07fbd0de74e5f15c65d64810e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a38aed07fbd0de74e5f15c65d64810e">get</a> (std::string url)</td></tr>
<tr class="memitem:a1e31d3cc79469be15a4dcca94ac6a3c6" id="r_a1e31d3cc79469be15a4dcca94ac6a3c6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e31d3cc79469be15a4dcca94ac6a3c6">head</a> (std::string url)</td></tr>
<tr class="memitem:a4a0e78e933819f11a6708896c27b34e6" id="r_a4a0e78e933819f11a6708896c27b34e6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a0e78e933819f11a6708896c27b34e6">post</a> (std::string url)</td></tr>
<tr class="memitem:a250edfbcf779a73528555be2170512a7" id="r_a250edfbcf779a73528555be2170512a7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a250edfbcf779a73528555be2170512a7">put</a> (std::string url)</td></tr>
<tr class="memitem:a602cc06d45953cebfe8a239128549b13" id="r_a602cc06d45953cebfe8a239128549b13"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a602cc06d45953cebfe8a239128549b13">delete_</a> (std::string url)</td></tr>
<tr class="memitem:aae9f7618685b53cc58ad4bcffbfa8481" id="r_aae9f7618685b53cc58ad4bcffbfa8481"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae9f7618685b53cc58ad4bcffbfa8481">connect</a> (std::string url)</td></tr>
<tr class="memitem:a77c710d07ac7451cb36d8f1e9c115405" id="r_a77c710d07ac7451cb36d8f1e9c115405"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77c710d07ac7451cb36d8f1e9c115405">options</a> (std::string url)</td></tr>
<tr class="memitem:a21cc9b31d9c056bce226284a30523547" id="r_a21cc9b31d9c056bce226284a30523547"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21cc9b31d9c056bce226284a30523547">trace</a> (std::string url)</td></tr>
<tr class="memitem:ac7abf01610ed43afd8df5668e2fe5fe5" id="r_ac7abf01610ed43afd8df5668e2fe5fe5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7abf01610ed43afd8df5668e2fe5fe5">patch</a> (std::string url)</td></tr>
<tr class="memitem:a008de1b7b69832f3928b3f0f4fc7ca88" id="r_a008de1b7b69832f3928b3f0f4fc7ca88"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfastly_1_1http_1_1_request.html">Request</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a008de1b7b69832f3928b3f0f4fc7ca88">from_client</a> ()</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An HTTP request, including body, headers, method, and URL.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Getting the client request</h1>
<p>Call <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a008de1b7b69832f3928b3f0f4fc7ca88">Request::from_client()</a></span> to get the client request being handled by this execution of the Compute program.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Creation and conversion</h1>
<p>New requests can be created programmatically with the <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a8a05f633fa4ef4433ba4c82a7106f82e">Request()</a></span> constructor. In addition, there are convenience constructors like <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get()</a></span> which automatically select the appropriate method.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Sending backend requests</h1>
<p>Requests can be sent to a backend in blocking or asynchronous fashion using <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a873211857c6780a5a024356185fd4796">Request::send()</a></span>, <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a0d1a40d6eaa7c926174bd85f546cfeeb">Request::send_async()</a></span>, or <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a998b30e6d08db1391c91f8006360cdb7">Request::send_async_streaming()</a></span>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Builder-style methods</h1>
<p><span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> can be used as a builder allowing requests to be constructed and used through method chaining. Methods with the <span class="tt">with_</span> name prefix, such as <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a66d8935c66795845492b16a522e70c51" title="Builder-style equivalent of Request::append_header().">Request::with_header()</a></span>, return a moved <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> to allow chaining. The builder style is typically most useful when constructing and using a request in a single expression.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a66d8935c66795845492b16a522e70c51">with_header</a>(<span class="stringliteral">&quot;my-header&quot;</span>s, <span class="stringliteral">&quot;hello!&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a66d8935c66795845492b16a522e70c51">with_header</a>(<span class="stringliteral">&quot;my-other-header&quot;</span>s, <span class="stringliteral">&quot;Здравствуйте!&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a873211857c6780a5a024356185fd4796">send</a>(<span class="stringliteral">&quot;example_backend&quot;</span>s);</div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a1a38aed07fbd0de74e5f15c65d64810e"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">fastly::http::Request::get</a></div><div class="ttdeci">static Request get(std::string url)</div></div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a66d8935c66795845492b16a522e70c51"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a66d8935c66795845492b16a522e70c51">fastly::http::Request::with_header</a></div><div class="ttdeci">Request with_header(std::string name, std::string value)</div><div class="ttdoc">Builder-style equivalent of Request::append_header().</div></div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a873211857c6780a5a024356185fd4796"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a873211857c6780a5a024356185fd4796">fastly::http::Request::send</a></div><div class="ttdeci">Response send(fastly::backend::Backend backend)</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Setter methods</h1>
<p>Setter methods, such as <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a7f4ed82de6857af104bdc954a99fa90e">Request::set_header()</a></span>, are prefixed by <span class="tt">set_</span>, and can be used interchangeably with the builder-style methods, allowing you to mix and match styles based on what is most convenient for your program. Setter methods tend to work better than builder-style methods when constructing a request involves conditional branches or loops.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> req{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com&quot;</span>s).<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a66d8935c66795845492b16a522e70c51">with_header</a>(<span class="stringliteral">&quot;my-header&quot;</span>s,</div>
<div class="line"><span class="stringliteral">&quot;hello!&quot;</span>s)};</div>
<div class="line"><span class="keywordflow">if</span> (needs_translation) {</div>
<div class="line">    req.set_header(<span class="stringliteral">&quot;my-other-header&quot;</span>s, <span class="stringliteral">&quot;Здравствуйте!&quot;</span>s);</div>
<div class="line">}</div>
<div class="line">req.send(<span class="stringliteral">&quot;example_backend&quot;</span>s);</div>
</div><!-- fragment --> </div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8a05f633fa4ef4433ba4c82a7106f82e" name="a8a05f633fa4ef4433ba4c82a7106f82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a05f633fa4ef4433ba4c82a7106f82e">&#9670;&#160;</a></span>Request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fastly::http::Request::Request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a></td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new request with the given method and URL, no headers, and an empty body. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="af31af63be0ba1a460c100927e07f2a06" name="af31af63be0ba1a460c100927e07f2a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31af63be0ba1a460c100927e07f2a06">&#9670;&#160;</a></span>append_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::append_body </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Append another [<span class="tt"><a class="el" href="classfastly_1_1_body.html">Body</a></span>] to the body of this request without reading or writing any body contents.</p>
<p>If this request does not have a body, the appended body is set as the request's body.</p>
<p>This method should be used when combining bodies that have not necessarily been read yet, such as the body of the client. To append contents that are already in memory as strings or bytes, you should instead use [<span class="tt">get_body_mut()</span>][<span class="tt">Self::get_body_mut()</span>] to write the contents to the end of the body.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
Examples</h1>
<div class="fragment"><div class="line"><span class="keyword">auto</span> req{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a4a0e78e933819f11a6708896c27b34e6">Request::post</a>(<span class="stringliteral">&quot;https://example.com&quot;</span>).<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#ad5724ea0cfd42bb3e188bf1e2a5a7d47">with_body</a>(<span class="stringliteral">&quot;hello! client</span></div>
<div class="line"><span class="stringliteral">says: &quot;</span>s)}; req.append_body(<a class="code hl_function" href="#a008de1b7b69832f3928b3f0f4fc7ca88">Request::from_client</a>().<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a4ff82cec2759ffdb1c8b28b4de7e3f95">into_body</a>());</div>
<div class="line">req.send(<span class="stringliteral">&quot;example_backend&quot;</span>s);</div>
<div class="ttc" id="aclassfastly_1_1_request_html_a008de1b7b69832f3928b3f0f4fc7ca88"><div class="ttname"><a href="#a008de1b7b69832f3928b3f0f4fc7ca88">fastly::Request::from_client</a></div><div class="ttdeci">static Request from_client()</div></div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a4a0e78e933819f11a6708896c27b34e6"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a4a0e78e933819f11a6708896c27b34e6">fastly::http::Request::post</a></div><div class="ttdeci">static Request post(std::string url)</div></div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a4ff82cec2759ffdb1c8b28b4de7e3f95"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a4ff82cec2759ffdb1c8b28b4de7e3f95">fastly::http::Request::into_body</a></div><div class="ttdeci">Body into_body()</div><div class="ttdoc">Consume the request and return its body as a Body instance.</div></div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_ad5724ea0cfd42bb3e188bf1e2a5a7d47"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#ad5724ea0cfd42bb3e188bf1e2a5a7d47">fastly::http::Request::with_body</a></div><div class="ttdeci">Request with_body(Body body)</div><div class="ttdoc">Builder-style equivalent of Request::set_body().</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a2975315d11bce02d2941c33d59663457" name="a2975315d11bce02d2941c33d59663457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2975315d11bce02d2941c33d59663457">&#9670;&#160;</a></span>append_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::append_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a request header with given value.</p>
<p>Unlike <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a7f4ed82de6857af104bdc954a99fa90e">Request::set_header()</a></span>, this does not discard existing values for the same header name. </p>

</div>
</div>
<a id="a783a4924ec165ea57c9023e4d0871c02" name="a783a4924ec165ea57c9023e4d0871c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783a4924ec165ea57c9023e4d0871c02">&#9670;&#160;</a></span>clone_with_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::clone_with_body </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clone this request by reading in its body, and then writing the same body to the original and the cloned request.</p>
<p>This method requires mutable access to this request because reading from and writing to the body can involve an HTTP connection. </p>

</div>
</div>
<a id="a4990ff9c9d1015c65b261be2e9577297" name="a4990ff9c9d1015c65b261be2e9577297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4990ff9c9d1015c65b261be2e9577297">&#9670;&#160;</a></span>clone_without_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::clone_without_body </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a new request with the same method, url, headers, and version of this request, but no body.</p>
<p>If you also need to clone the request body, use [<span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a783a4924ec165ea57c9023e4d0871c02">clone_with_body()</a></span>][<span class="tt">Self::clone_with_body()</span>]</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Examples</h1>
<div class="fragment"><div class="line"><span class="keyword">auto</span> original = <a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a4a0e78e933819f11a6708896c27b34e6">Request::post</a>(<span class="stringliteral">&quot;https://example.com&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a66d8935c66795845492b16a522e70c51">with_header</a>(<span class="stringliteral">&quot;hello&quot;</span>s, <span class="stringliteral">&quot;world!&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#ad5724ea0cfd42bb3e188bf1e2a5a7d47">with_body</a>(<span class="stringliteral">&quot;hello&quot;</span>s);</div>
<div class="line"><span class="keyword">auto</span> new_req = original.<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a4990ff9c9d1015c65b261be2e9577297">clone_without_body</a>();</div>
<div class="line">assert(original.get_method() == <span class="keyword">new</span>.get_method());</div>
<div class="line">assert(original.get_url() == <span class="keyword">new</span>.get_url());</div>
<div class="line">assert(original.get_header(<span class="stringliteral">&quot;hello&quot;</span>s) == <span class="keyword">new</span>.get_header(<span class="stringliteral">&quot;hello&quot;</span>s));</div>
<div class="line">assert(original.has_body());</div>
<div class="line">assert(!<span class="keyword">new</span>.<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a38bd8b681b15d72a2b46a3f6abeaf194">has_body</a>());</div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a38bd8b681b15d72a2b46a3f6abeaf194"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a38bd8b681b15d72a2b46a3f6abeaf194">fastly::http::Request::has_body</a></div><div class="ttdeci">bool has_body()</div><div class="ttdoc">Returns true if this request has a body.</div></div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a4990ff9c9d1015c65b261be2e9577297"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a4990ff9c9d1015c65b261be2e9577297">fastly::http::Request::clone_without_body</a></div><div class="ttdeci">Request clone_without_body()</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aae9f7618685b53cc58ad4bcffbfa8481" name="aae9f7618685b53cc58ad4bcffbfa8481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9f7618685b53cc58ad4bcffbfa8481">&#9670;&#160;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::connect </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">CONNECT</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="a4930a07f04ea310b8332e8e390cf246d" name="a4930a07f04ea310b8332e8e390cf246d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4930a07f04ea310b8332e8e390cf246d">&#9670;&#160;</a></span>contains_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fastly::http::Request::contains_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the given header name is present in the request. </p>

</div>
</div>
<a id="a602cc06d45953cebfe8a239128549b13" name="a602cc06d45953cebfe8a239128549b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602cc06d45953cebfe8a239128549b13">&#9670;&#160;</a></span>delete_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::delete_ </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">DELETE</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="a0ca2781d200857c80c18984b96009e57" name="a0ca2781d200857c80c18984b96009e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca2781d200857c80c18984b96009e57">&#9670;&#160;</a></span>fastly_key_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fastly::http::Request::fastly_key_is_valid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether or not the client request had a <span class="tt">Fastly-Key</span> header which is valid for purging content for the service.</p>
<p>This function ignores the current value of any <span class="tt">Fastly-Key</span> header for this request. </p>

</div>
</div>
<a id="a008de1b7b69832f3928b3f0f4fc7ca88" name="a008de1b7b69832f3928b3f0f4fc7ca88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a008de1b7b69832f3928b3f0f4fc7ca88">&#9670;&#160;</a></span>from_client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::from_client </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the client request being handled by this execution of the Compute program.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Panics</h1>
<p>This method panics if the client request has already been retrieved by this method or by the low-level handle API. </p>

</div>
</div>
<a id="a1a38aed07fbd0de74e5f15c65d64810e" name="a1a38aed07fbd0de74e5f15c65d64810e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a38aed07fbd0de74e5f15c65d64810e">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::get </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">GET</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="ad51a74cc90a9cdf8e9580d0fe8fb9b40" name="ad51a74cc90a9cdf8e9580d0fe8fb9b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51a74cc90a9cdf8e9580d0fe8fb9b40">&#9670;&#160;</a></span>get_client_ddos_detected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; bool &gt; fastly::http::Request::get_client_ddos_detected </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether the request was tagged as contributing to a DDoS attack</p>
<p>Returns <span class="tt">std::nullopt</span> if this is not the client request. </p>

</div>
</div>
<a id="ac3f6d63177dca86b1cccf58bb662aa0d" name="ac3f6d63177dca86b1cccf58bb662aa0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3f6d63177dca86b1cccf58bb662aa0d">&#9670;&#160;</a></span>get_client_ip_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::get_client_ip_addr </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a891c17e2abab068f48297422cf0161e6" name="a891c17e2abab068f48297422cf0161e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891c17e2abab068f48297422cf0161e6">&#9670;&#160;</a></span>get_content_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; size_t &gt; fastly::http::Request::get_content_length </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of the request's <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length"><span class="tt">Content-Length</span></a> header, if it exists. </p>

</div>
</div>
<a id="a962a4df74769d3d7944df145f2db6d28" name="a962a4df74769d3d7944df145f2db6d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a962a4df74769d3d7944df145f2db6d28">&#9670;&#160;</a></span>get_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::get_content_type </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the MIME type described by the request's <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><span class="tt">Content-Type</span></a> header, or <span class="tt">std::nullopt</span> if that header is absent or contains an invalid MIME type. </p>

</div>
</div>
<a id="a182ca56e393a1b627e58a34cff55ff87" name="a182ca56e393a1b627e58a34cff55ff87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a182ca56e393a1b627e58a34cff55ff87">&#9670;&#160;</a></span>get_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::get_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of a header as a string, or <span class="tt">std::nullopt</span> if the header is not present.</p>
<p>If there are multiple values for the header, only one is returned, which may be any of the values. See <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a85c090a8cd61fccdfd2128bffcddf207" title="Get an iterator of all the values of a header.">Request::get_header_all()</a></span> all of the values. </p>

</div>
</div>
<a id="a85c090a8cd61fccdfd2128bffcddf207" name="a85c090a8cd61fccdfd2128bffcddf207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c090a8cd61fccdfd2128bffcddf207">&#9670;&#160;</a></span>get_header_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HeaderValuesIter fastly::http::Request::get_header_all </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an iterator of all the values of a header. </p>

</div>
</div>
<a id="a9eb3c08f1f2323da39a3b721b07f6571" name="a9eb3c08f1f2323da39a3b721b07f6571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb3c08f1f2323da39a3b721b07f6571">&#9670;&#160;</a></span>get_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a> fastly::http::Request::get_method </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the request method. </p>

</div>
</div>
<a id="a9700fa0ea3b1225fc7b47606b51a24d8" name="a9700fa0ea3b1225fc7b47606b51a24d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9700fa0ea3b1225fc7b47606b51a24d8">&#9670;&#160;</a></span>get_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string fastly::http::Request::get_path </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the path component of the request URL.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
Examples</h1>
<div class="fragment"><div class="line"><span class="keyword">auto</span> req{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com/hello#world&quot;</span>s)};</div>
<div class="line">assert(req.get_path() == <span class="stringliteral">&quot;/hello&quot;</span>s);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="aa0fd41ed99d93369602c71b8e8b664f8" name="aa0fd41ed99d93369602c71b8e8b664f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0fd41ed99d93369602c71b8e8b664f8">&#9670;&#160;</a></span>get_query_parameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::get_query_parameter </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>param</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of a query parameter in the request's URL.</p>
<p>This assumes that the query string is a <span class="tt">&amp;</span> separated list of <span class="tt">parameter=value</span> pairs. The value of the first occurrence of <span class="tt">parameter</span> is returned. No URL decoding is performed. </p>

</div>
</div>
<a id="ad4cfba93963858e1ff5fc763013be1cc" name="ad4cfba93963858e1ff5fc763013be1cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4cfba93963858e1ff5fc763013be1cc">&#9670;&#160;</a></span>get_query_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::get_query_string </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the query component of the request URL, if it exists, as a percent-encoded ASCII string. </p>

</div>
</div>
<a id="a9740232bc94696ba7a632a0ec6a6aaa0" name="a9740232bc94696ba7a632a0ec6a6aaa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9740232bc94696ba7a632a0ec6a6aaa0">&#9670;&#160;</a></span>get_server_ip_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::get_server_ip_addr </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a45d2168567b596349a36048931219197" name="a45d2168567b596349a36048931219197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d2168567b596349a36048931219197">&#9670;&#160;</a></span>get_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string fastly::http::Request::get_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the request URL as a string. </p>

</div>
</div>
<a id="a38bd8b681b15d72a2b46a3f6abeaf194" name="a38bd8b681b15d72a2b46a3f6abeaf194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38bd8b681b15d72a2b46a3f6abeaf194">&#9670;&#160;</a></span>has_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fastly::http::Request::has_body </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns <span class="tt">true</span> if this request has a body. </p>

</div>
</div>
<a id="a1e31d3cc79469be15a4dcca94ac6a3c6" name="a1e31d3cc79469be15a4dcca94ac6a3c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e31d3cc79469be15a4dcca94ac6a3c6">&#9670;&#160;</a></span>head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::head </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">HEAD</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="a4ff82cec2759ffdb1c8b28b4de7e3f95" name="a4ff82cec2759ffdb1c8b28b4de7e3f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff82cec2759ffdb1c8b28b4de7e3f95">&#9670;&#160;</a></span>into_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a> fastly::http::Request::into_body </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume the request and return its body as a <span class="tt"><a class="el" href="classfastly_1_1_body.html">Body</a></span> instance. </p>

</div>
</div>
<a id="a93ea942e3c90dffdcbdc442a97387819" name="a93ea942e3c90dffdcbdc442a97387819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ea942e3c90dffdcbdc442a97387819">&#9670;&#160;</a></span>into_body_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; uint8_t &gt; fastly::http::Request::into_body_bytes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume the request and return its body as a byte vector. </p>

</div>
</div>
<a id="a0da241ef908a7f45ae0f6f057df4038a" name="a0da241ef908a7f45ae0f6f057df4038a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0da241ef908a7f45ae0f6f057df4038a">&#9670;&#160;</a></span>into_body_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string fastly::http::Request::into_body_string </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume the request and return its body as a string. </p>

</div>
</div>
<a id="a453d36234ed9747dc1f6f9bde84ba5ce" name="a453d36234ed9747dc1f6f9bde84ba5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a453d36234ed9747dc1f6f9bde84ba5ce">&#9670;&#160;</a></span>is_cacheable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fastly::http::Request::is_cacheable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets whether the request is potentially cacheable. </p>

</div>
</div>
<a id="a005d782ff20866e85278d461bc17a5a5" name="a005d782ff20866e85278d461bc17a5a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005d782ff20866e85278d461bc17a5a5">&#9670;&#160;</a></span>is_from_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fastly::http::Request::is_from_client </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return <span class="tt">true</span> if this request is from the client of this execution of the Compute program. </p>

</div>
</div>
<a id="a77c710d07ac7451cb36d8f1e9c115405" name="a77c710d07ac7451cb36d8f1e9c115405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c710d07ac7451cb36d8f1e9c115405">&#9670;&#160;</a></span>options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::options </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">OPTIONS</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="ac7abf01610ed43afd8df5668e2fe5fe5" name="ac7abf01610ed43afd8df5668e2fe5fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7abf01610ed43afd8df5668e2fe5fe5">&#9670;&#160;</a></span>patch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::patch </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">PATCH</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="a4a0e78e933819f11a6708896c27b34e6" name="a4a0e78e933819f11a6708896c27b34e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0e78e933819f11a6708896c27b34e6">&#9670;&#160;</a></span>post()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::post </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">POST</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="a250edfbcf779a73528555be2170512a7" name="a250edfbcf779a73528555be2170512a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a250edfbcf779a73528555be2170512a7">&#9670;&#160;</a></span>put()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::put </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">PUT</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="aa6a62accb94472d07d0f48cc3a947b12" name="aa6a62accb94472d07d0f48cc3a947b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a62accb94472d07d0f48cc3a947b12">&#9670;&#160;</a></span>remove_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; fastly::http::Request::remove_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove all request headers of the given name, and return one of the removed header values if any were present. </p>

</div>
</div>
<a id="ad639de6aa823ea8b5db0c0a314804108" name="ad639de6aa823ea8b5db0c0a314804108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad639de6aa823ea8b5db0c0a314804108">&#9670;&#160;</a></span>remove_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::remove_query </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the query component from the request URL, if one exists. </p>

</div>
</div>
<a id="a873211857c6780a5a024356185fd4796" name="a873211857c6780a5a024356185fd4796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873211857c6780a5a024356185fd4796">&#9670;&#160;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_response.html">Response</a> fastly::http::Request::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfastly_1_1backend_1_1_backend.html">fastly::backend::Backend</a></td>          <td class="paramname"><span class="paramname"><em>backend</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve a reponse for the request, either from cache or by sending it to the given backend server. Returns once the response headers have been received, or an error occurs.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Examples</h1>
<p>Sending the client request to a backend without modification:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> backend_resp{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a008de1b7b69832f3928b3f0f4fc7ca88">Request::from_client</a>().<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a873211857c6780a5a024356185fd4796">send</a>(<span class="stringliteral">&quot;example_backend&quot;</span>)};</div>
<div class="line">assert(backend_resp.get_status().is_success());</div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a008de1b7b69832f3928b3f0f4fc7ca88"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a008de1b7b69832f3928b3f0f4fc7ca88">fastly::http::Request::from_client</a></div><div class="ttdeci">static Request from_client()</div></div>
</div><!-- fragment --><p>Sending a synthetic request:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span></div>
<div class="line">backend_resp{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com&quot;</span>).<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a873211857c6780a5a024356185fd4796">send</a>(<span class="stringliteral">&quot;example_backend&quot;</span>)};</div>
<div class="line">assert(backend_resp.get_status().is_success());</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a0d1a40d6eaa7c926174bd85f546cfeeb" name="a0d1a40d6eaa7c926174bd85f546cfeeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1a40d6eaa7c926174bd85f546cfeeb">&#9670;&#160;</a></span>send_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">request::PendingRequest fastly::http::Request::send_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfastly_1_1backend_1_1_backend.html">fastly::backend::Backend</a></td>          <td class="paramname"><span class="paramname"><em>backend</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Begin sending the request to the given backend server, and return a <span class="tt">PendingRequest</span> that can yield the backend response or an error.</p>
<p>This method returns as soon as the request begins sending to the backend, and transmission of the request body and headers will continue in the background.</p>
<p>This method allows for sending more than one request at once and receiving their responses in arbitrary orders. See <span class="tt">PendingRequest</span> for more details on how to wait on, poll, or select between pending requests.</p>
<p>This method is also useful for sending requests where the response is unimportant, but the request may take longer than the Compute program is able to run, as the request will continue sending even after the program that initiated it exits.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Examples</h1>
<p>Sending a request to two backends and returning whichever response finishes first:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> backend_resp_1{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com/&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a0d1a40d6eaa7c926174bd85f546cfeeb">send_async</a>(<span class="stringliteral">&quot;example_backend_1&quot;</span>s)};</div>
<div class="line"><span class="keyword">auto</span> backend_resp_2{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com/&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a0d1a40d6eaa7c926174bd85f546cfeeb">send_async</a>(<span class="stringliteral">&quot;example_backend_2&quot;</span>s)};</div>
<div class="line"><span class="keyword">auto</span> [selected_resp, _others] =</div>
<div class="line"><a class="code hl_function" href="namespacefastly_1_1http_1_1request.html#a3be3cdf8a2047e4499bfbff6f51108fb">fastly::http::request::select</a>({backend_resp_1, backend_resp_2});</div>
<div class="line">selected_resp.send_to_client();</div>
<div class="ttc" id="aclassfastly_1_1http_1_1_request_html_a0d1a40d6eaa7c926174bd85f546cfeeb"><div class="ttname"><a href="classfastly_1_1http_1_1_request.html#a0d1a40d6eaa7c926174bd85f546cfeeb">fastly::http::Request::send_async</a></div><div class="ttdeci">request::PendingRequest send_async(fastly::backend::Backend backend)</div></div>
<div class="ttc" id="anamespacefastly_1_1http_1_1request_html_a3be3cdf8a2047e4499bfbff6f51108fb"><div class="ttname"><a href="namespacefastly_1_1http_1_1request.html#a3be3cdf8a2047e4499bfbff6f51108fb">fastly::http::request::select</a></div><div class="ttdeci">std::pair&lt; Response, std::vector&lt; PendingRequest &gt; &gt; select(std::vector&lt; PendingRequest &gt; &amp;reqs)</div></div>
</div><!-- fragment --><p>Sending a long-running request and ignoring its result so that the program can exit before it completes:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a4a0e78e933819f11a6708896c27b34e6">Request::post</a>(<span class="stringliteral">&quot;https://example.com&quot;</span>s)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#ad5724ea0cfd42bb3e188bf1e2a5a7d47">with_body</a>(some_large_file)</div>
<div class="line">    .<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a0d1a40d6eaa7c926174bd85f546cfeeb">send_async</a>(<span class="stringliteral">&quot;example_backend&quot;</span>s);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a998b30e6d08db1391c91f8006360cdb7" name="a998b30e6d08db1391c91f8006360cdb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998b30e6d08db1391c91f8006360cdb7">&#9670;&#160;</a></span>send_async_streaming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; StreamingBody, request::PendingRequest &gt; fastly::http::Request::send_async_streaming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfastly_1_1backend_1_1_backend.html">fastly::backend::Backend</a></td>          <td class="paramname"><span class="paramname"><em>backend</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Begin sending the request to the given backend server, and return a <span class="tt">PendingRequest</span> that can yield the backend response or an error along with a <span class="tt"><a class="el" href="classfastly_1_1http_1_1_streaming_body.html">StreamingBody</a></span> that can accept further data to send.</p>
<p>The backend connection is only closed once <span class="tt"><a class="el" href="classfastly_1_1http_1_1_streaming_body.html#a9a5afea0142d5784ebf2b09d8d9e1219">StreamingBody::finish()</a></span> is called. The <span class="tt">PendingRequest</span> will not yield a <span class="tt"><a class="el" href="classfastly_1_1_response.html">Response</a></span> until the <span class="tt"><a class="el" href="classfastly_1_1http_1_1_streaming_body.html">StreamingBody</a></span> is finished.</p>
<p>This method is most useful for programs that do some sort of processing or inspection of a potentially-large client request body. Streaming allows the program to operate on small parts of the body rather than having to read it all into memory at once.</p>
<p>This method returns as soon as the request begins sending to the backend, and transmission of the request body and headers will continue in the background.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Examples</h1>
<p>Count the number of lines in a UTF-8 client request body while sending it to the backend:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> req{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a008de1b7b69832f3928b3f0f4fc7ca88">Request::from_client</a>()};</div>
<div class="line"><span class="comment">// Take the body so we can iterate through its lines later</span></div>
<div class="line"><span class="keyword">auto</span> req_body{req.take_body()};</div>
<div class="line"><span class="comment">// Start sending the client request to the client with a now-empty body</span></div>
<div class="line"><span class="keyword">auto</span> [backend_body, pending_req] = req</div>
<div class="line">    .send_async_streaming(<span class="stringliteral">&quot;example_backend&quot;</span>s);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">size_t</span> num_lines{0};</div>
<div class="line">std::string buf;</div>
<div class="line"><span class="keywordflow">while</span> (std::getline(req_body, buf)) {</div>
<div class="line">  num_lines++;</div>
<div class="line">  <span class="comment">// Write the line to the streaming backend body</span></div>
<div class="line">  backend_body &lt;&lt; buf &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::flush;</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Finish the streaming body to allow the backend connection to close</span></div>
<div class="line">backend_body.finish();</div>
<div class="line"> </div>
<div class="line">std::cout</div>
<div class="line">  &lt;&lt; <span class="stringliteral">&quot;client request body contained &quot;</span></div>
<div class="line">  &lt;&lt; num_lines</div>
<div class="line">  &lt;&lt; <span class="stringliteral">&quot; lines&quot;</span></div>
<div class="line">  &lt;&lt; std::endl;</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a84f13ddd4f9cf46699232fa38a3d3be7" name="a84f13ddd4f9cf46699232fa38a3d3be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f13ddd4f9cf46699232fa38a3d3be7">&#9670;&#160;</a></span>set_auto_decompress_gzip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_auto_decompress_gzip </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>gzip</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set whether a <span class="tt">gzip</span>-encoded response to this request will be automatically decompressed.</p>
<p>Enabling this will set the <span class="tt">Accept-Encoding</span> header before the request is sent, regardless of the original value in the request, to ensure that any values originally sent by a browser or other client get replaced with <span class="tt">gzip</span>, so that the backend will not try sending unsupported compression algorithms.</p>
<p>If the response to this request is <span class="tt">gzip</span>-encoded, it will be presented in decompressed form, and the <span class="tt">Content-Encoding</span> and <span class="tt">Content-Length</span> headers will be removed. </p>

</div>
</div>
<a id="aa6c23aca8847b20269f740d4f6f71f30" name="aa6c23aca8847b20269f740d4f6f71f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6c23aca8847b20269f740d4f6f71f30">&#9670;&#160;</a></span>set_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_body </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the given value as the request's body. </p>

</div>
</div>
<a id="ace88ef1591d4e965f2c462b05ffbd113" name="ace88ef1591d4e965f2c462b05ffbd113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace88ef1591d4e965f2c462b05ffbd113">&#9670;&#160;</a></span>set_body_octet_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_body_octet_stream </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the given bytes as the request's body with content type <span class="tt">application/octet-stream</span>. </p>

</div>
</div>
<a id="acbcff9639734aaf4c0d1735390f1b09e" name="acbcff9639734aaf4c0d1735390f1b09e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcff9639734aaf4c0d1735390f1b09e">&#9670;&#160;</a></span>set_body_text_html()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_body_text_html </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the given string as the request's body with content type <span class="tt">text/html;
/ charset=UTF-8</span>. </p>

</div>
</div>
<a id="af5d0cbb852ce4b5fab2ab1748c8f2a6f" name="af5d0cbb852ce4b5fab2ab1748c8f2a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d0cbb852ce4b5fab2ab1748c8f2a6f">&#9670;&#160;</a></span>set_body_text_plain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_body_text_plain </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the given string as the request's body with content type <span class="tt">text/plain; charset=UTF-8</span>. </p>

</div>
</div>
<a id="ae1280ba9662064969e5a64c4fb89e3d5" name="ae1280ba9662064969e5a64c4fb89e3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1280ba9662064969e5a64c4fb89e3d5">&#9670;&#160;</a></span>set_cache_key() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_cache_key </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the cache key to be used when attempting to satisfy this request from a cached response. </p>

</div>
</div>
<a id="a97f2cc7b8ca40274834148449fc8c57f" name="a97f2cc7b8ca40274834148449fc8c57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f2cc7b8ca40274834148449fc8c57f">&#9670;&#160;</a></span>set_cache_key() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_cache_key </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the cache key to be used when attempting to satisfy this request from a cached response. </p>

</div>
</div>
<a id="a7aebd9a232d36d5819cba0cc4ee1c9fa" name="a7aebd9a232d36d5819cba0cc4ee1c9fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aebd9a232d36d5819cba0cc4ee1c9fa">&#9670;&#160;</a></span>set_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_content_type </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>mime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the MIME type described by the request's <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><span class="tt">Content-Type</span></a> header.</p>
<p>Any existing <span class="tt">Content-Type</span> header values will be overwritten. </p>

</div>
</div>
<a id="a7f4ed82de6857af104bdc954a99fa90e" name="a7f4ed82de6857af104bdc954a99fa90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f4ed82de6857af104bdc954a99fa90e">&#9670;&#160;</a></span>set_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a request header to the given value, discarding any previous values for the given header name. </p>

</div>
</div>
<a id="aa59f643e6aea793a801aa49d184af660" name="aa59f643e6aea793a801aa49d184af660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59f643e6aea793a801aa49d184af660">&#9670;&#160;</a></span>set_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_method </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a></td>          <td class="paramname"><span class="paramname"><em>method</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the request method. </p>

</div>
</div>
<a id="a20580d1987d296297147891257b1a0a1" name="a20580d1987d296297147891257b1a0a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20580d1987d296297147891257b1a0a1">&#9670;&#160;</a></span>set_pass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_pass </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>pass</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set whether this request should be cached if sent to a backend.</p>
<p>By default this is <span class="tt">false</span>, which means the backend will only be reached if a cached response is not available. Set this to <span class="tt">true</span> to send the request directly to the backend without caching.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
Overrides</h1>
<p>Setting this to <span class="tt">true</span> overrides any other custom caching behaviors for this request, such as <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#af6e4e9a778f3d43c431a6d010bde30a0">Request::set_ttl()</a></span> or <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a2cf3641d7280bda6646f8654e3208f54">Request::set_surrogate_key()</a></span>. </p>

</div>
</div>
<a id="aeb17a2b128a5922547bf1e261a7fda60" name="aeb17a2b128a5922547bf1e261a7fda60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb17a2b128a5922547bf1e261a7fda60">&#9670;&#160;</a></span>set_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_path </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the path component of the request URL.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Panics</h1>
<p>Panics if the path is an invalid URL path, or if it's invalid UTF-8.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
Examples</h1>
<div class="fragment"><div class="line"><span class="keyword">auto</span> req{<a class="code hl_function" href="classfastly_1_1http_1_1_request.html#a1a38aed07fbd0de74e5f15c65d64810e">Request::get</a>(<span class="stringliteral">&quot;https://example.com/&quot;</span>s)};</div>
<div class="line">req.set_path(<span class="stringliteral">&quot;/hello&quot;</span>s);</div>
<div class="line">assert!(req.get_url(), <span class="stringliteral">&quot;https://example.com/hello&quot;</span>s);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a2bf3389756c3f84791d6f33a5658e958" name="a2bf3389756c3f84791d6f33a5658e958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf3389756c3f84791d6f33a5658e958">&#9670;&#160;</a></span>set_pci()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_pci </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>pci</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Override the caching behavior of this request to enable or disable PCI/HIPAA-compliant non-volatile caching.</p>
<p>By default, this is <span class="tt">false</span>, which means the request may not be PCI/HIPAA-compliant. Set it to <span class="tt">true</span> to enable compliant caching.</p>
<p>See the <a href="https://docs.fastly.com/products/pci-compliant-caching-and-delivery">Fastly PCI-Compliant Caching and Delivery documentation</a> for details.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
Overrides</h1>
<p>This sets the <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a20580d1987d296297147891257b1a0a1">Request::set_pass()</a></span> behavior to <span class="tt">false</span>. </p>

</div>
</div>
<a id="af7a035e4f0804694292f90fdcfbf2e7b" name="af7a035e4f0804694292f90fdcfbf2e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a035e4f0804694292f90fdcfbf2e7b">&#9670;&#160;</a></span>set_query_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_query_string </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>query</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the query string of the request URL query component to the given string, performing percent-encoding if necessary.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
Examples</h1>
<div class="fragment"><div class="line">_run</div>
<div class="line">     auto req{Request::get(&quot;https://example.com/foo&quot;s)};</div>
<div class="line">     req.set_query_string(&quot;hello=🌐!&amp;bar=baz&quot;s);</div>
<div class="line">     assert(req.get_url(),</div>
<div class="line">     &quot;https://example.com/foo?hello=%F0%9F%8C%90!&amp;bar=baz&quot;s);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="aeda4e5c2d629272f30202e16a7c26f9f" name="aeda4e5c2d629272f30202e16a7c26f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda4e5c2d629272f30202e16a7c26f9f">&#9670;&#160;</a></span>set_stale_while_revalidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_stale_while_revalidate </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>swr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Override the caching behavior of this request to use the given <span class="tt">stale-while-revalidate</span> time, in seconds.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
Overrides</h1>
<p>This overrides the behavior specified in the response headers, and sets the <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a20580d1987d296297147891257b1a0a1">Request::set_pass()</a></span> behavior to <span class="tt">false</span>. </p>

</div>
</div>
<a id="a2cf3641d7280bda6646f8654e3208f54" name="a2cf3641d7280bda6646f8654e3208f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf3641d7280bda6646f8654e3208f54">&#9670;&#160;</a></span>set_surrogate_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_surrogate_key </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>sk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Override the caching behavior of this request to include the given surrogate key(s), provided as a header value.</p>
<p>The header value can contain more than one surrogate key, separated by spaces.</p>
<p>Surrogate keys must contain only printable ASCII characters (those between <span class="tt">0x21</span> and <span class="tt">0x7E</span>, inclusive). Any invalid keys will be ignored.</p>
<p>See the <a href="https://docs.fastly.com/en/guides/purging-api-cache-with-surrogate-keys">Fastly surrogate keys guide</a> for details.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
Overrides</h1>
<p>This sets the <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a20580d1987d296297147891257b1a0a1">Request::set_pass()</a></span> behavior to <span class="tt">false</span>, and extends (but does not replace) any <span class="tt">Surrogate-Key</span> response headers from the backend. </p>

</div>
</div>
<a id="af6e4e9a778f3d43c431a6d010bde30a0" name="af6e4e9a778f3d43c431a6d010bde30a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e4e9a778f3d43c431a6d010bde30a0">&#9670;&#160;</a></span>set_ttl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_ttl </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ttl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Override the caching behavior of this request to use the given Time to Live (TTL), in seconds.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
Overrides</h1>
<p>This overrides the behavior specified in the response headers, and sets the <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a20580d1987d296297147891257b1a0a1">Request::set_pass()</a></span> behavior to <span class="tt">false</span>. </p>

</div>
</div>
<a id="af320efd5bcf6d14d01cb11cd3d0d4ab1" name="af320efd5bcf6d14d01cb11cd3d0d4ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af320efd5bcf6d14d01cb11cd3d0d4ab1">&#9670;&#160;</a></span>set_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fastly::http::Request::set_url </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the request URL.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
Panics</h1>
<p>Panics if the url fails to parse as a URL or invalid UTF-8. </p>

</div>
</div>
<a id="a0de70d6896196f0d03e5f7dd1da9c578" name="a0de70d6896196f0d03e5f7dd1da9c578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de70d6896196f0d03e5f7dd1da9c578">&#9670;&#160;</a></span>take_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a> fastly::http::Request::take_body </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Take and return the body from this request.</p>
<p>After calling this method, this request will no longer have a body. </p>

</div>
</div>
<a id="a8d8c82f548da4566253cf29e72d5828f" name="a8d8c82f548da4566253cf29e72d5828f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8c82f548da4566253cf29e72d5828f">&#9670;&#160;</a></span>take_body_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; uint8_t &gt; fastly::http::Request::take_body_bytes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Take and return the body from this request as a vector of bytes.</p>
<p>After calling this method, this request will no longer have a body. </p>

</div>
</div>
<a id="aa458270d5431adfc21d5111f64ab1e1d" name="aa458270d5431adfc21d5111f64ab1e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa458270d5431adfc21d5111f64ab1e1d">&#9670;&#160;</a></span>take_body_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string fastly::http::Request::take_body_string </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Take and return the body from this request as a string.</p>
<p>After calling this method, this request will no longer have a body. </p>

</div>
</div>
<a id="a21cc9b31d9c056bce226284a30523547" name="a21cc9b31d9c056bce226284a30523547"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cc9b31d9c056bce226284a30523547">&#9670;&#160;</a></span>trace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::trace </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <span class="tt">TRACE</span> <span class="tt"><a class="el" href="classfastly_1_1_request.html">Request</a></span> with the given URL, no headers, and an empty body. </p>

</div>
</div>
<a id="a232eddc8db49b9f9a61e44cbe4680ea4" name="a232eddc8db49b9f9a61e44cbe4680ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232eddc8db49b9f9a61e44cbe4680ea4">&#9670;&#160;</a></span>with_auto_decompress_gzip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_auto_decompress_gzip </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>gzip</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a84f13ddd4f9cf46699232fa38a3d3be7">Request::set_auto_decompress_gzip()</a></span>. </p>

</div>
</div>
<a id="ad5724ea0cfd42bb3e188bf1e2a5a7d47" name="ad5724ea0cfd42bb3e188bf1e2a5a7d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5724ea0cfd42bb3e188bf1e2a5a7d47">&#9670;&#160;</a></span>with_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_body </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfastly_1_1http_1_1_body.html">Body</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aa6c23aca8847b20269f740d4f6f71f30" title="Set the given value as the request&#39;s body.">Request::set_body()</a></span>. </p>

</div>
</div>
<a id="a14c6e09cc0d55fe7d5dbcf7996edc5c6" name="a14c6e09cc0d55fe7d5dbcf7996edc5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c6e09cc0d55fe7d5dbcf7996edc5c6">&#9670;&#160;</a></span>with_body_octet_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_body_octet_stream </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#ace88ef1591d4e965f2c462b05ffbd113">Request::set_body_octet_stream()</a></span>. </p>

</div>
</div>
<a id="ac12fdb9cdb0afb59f11f9cb14bea9ae8" name="ac12fdb9cdb0afb59f11f9cb14bea9ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac12fdb9cdb0afb59f11f9cb14bea9ae8">&#9670;&#160;</a></span>with_body_text_html()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_body_text_html </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#acbcff9639734aaf4c0d1735390f1b09e">Request::set_body_text_html()</a></span>. </p>

</div>
</div>
<a id="ace71d85a6ec66b4b0dbee421bba96c8d" name="ace71d85a6ec66b4b0dbee421bba96c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace71d85a6ec66b4b0dbee421bba96c8d">&#9670;&#160;</a></span>with_body_text_plain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_body_text_plain </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#af5d0cbb852ce4b5fab2ab1748c8f2a6f">Request::set_body_text_plain()</a></span>. </p>

</div>
</div>
<a id="a44b9187811a2b6e7a7fc624bea65f7c0" name="a44b9187811a2b6e7a7fc624bea65f7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44b9187811a2b6e7a7fc624bea65f7c0">&#9670;&#160;</a></span>with_cache_key() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_cache_key </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#ae1280ba9662064969e5a64c4fb89e3d5">Request::set_cache_key()</a></span>. </p>

</div>
</div>
<a id="a3ece634d204ec208afb1dc01c50ea962" name="a3ece634d204ec208afb1dc01c50ea962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ece634d204ec208afb1dc01c50ea962">&#9670;&#160;</a></span>with_cache_key() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_cache_key </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#ae1280ba9662064969e5a64c4fb89e3d5">Request::set_cache_key()</a></span>. </p>

</div>
</div>
<a id="ac30a24b5bd06457f741327a85e509da6" name="ac30a24b5bd06457f741327a85e509da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac30a24b5bd06457f741327a85e509da6">&#9670;&#160;</a></span>with_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_content_type </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>mime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a7aebd9a232d36d5819cba0cc4ee1c9fa">Request::set_content_type()</a></span>. </p>

</div>
</div>
<a id="a66d8935c66795845492b16a522e70c51" name="a66d8935c66795845492b16a522e70c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d8935c66795845492b16a522e70c51">&#9670;&#160;</a></span>with_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a2975315d11bce02d2941c33d59663457">Request::append_header()</a></span>. </p>

</div>
</div>
<a id="a21a10d5172368c12baf047a2debfde26" name="a21a10d5172368c12baf047a2debfde26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a10d5172368c12baf047a2debfde26">&#9670;&#160;</a></span>with_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_method </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefastly_1_1http.html#aefde43db022226c635200348ddf3d8b3">Method</a></td>          <td class="paramname"><span class="paramname"><em>method</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aa59f643e6aea793a801aa49d184af660" title="Set the request method.">Request::set_method()</a></span>. </p>

</div>
</div>
<a id="a2b8cc7217a99adec1f62bbd5facb242f" name="a2b8cc7217a99adec1f62bbd5facb242f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b8cc7217a99adec1f62bbd5facb242f">&#9670;&#160;</a></span>with_pass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_pass </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>pass</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a20580d1987d296297147891257b1a0a1">Request::set_pass()</a></span>. </p>

</div>
</div>
<a id="a4baff6fe0c3529b50f28665a6b4a8d70" name="a4baff6fe0c3529b50f28665a6b4a8d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4baff6fe0c3529b50f28665a6b4a8d70">&#9670;&#160;</a></span>with_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_path </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aeb17a2b128a5922547bf1e261a7fda60">Request::set_path()</a></span>. </p>

</div>
</div>
<a id="a93572744211c7cee39948672cbbc5936" name="a93572744211c7cee39948672cbbc5936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93572744211c7cee39948672cbbc5936">&#9670;&#160;</a></span>with_pci()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_pci </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>pci</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a2bf3389756c3f84791d6f33a5658e958">Request::set_pci()</a></span>. </p>

</div>
</div>
<a id="abb67fecf458cf5ec7bd5111375efe8aa" name="abb67fecf458cf5ec7bd5111375efe8aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb67fecf458cf5ec7bd5111375efe8aa">&#9670;&#160;</a></span>with_query_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_query_string </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>query</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt">Request::set_query()</span>. </p>

</div>
</div>
<a id="a9c1f6a37878fec7d168d0c858c16f749" name="a9c1f6a37878fec7d168d0c858c16f749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1f6a37878fec7d168d0c858c16f749">&#9670;&#160;</a></span>with_set_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_set_header </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a7f4ed82de6857af104bdc954a99fa90e">Request::set_header()</a></span>. </p>

</div>
</div>
<a id="a6d81449521d39f73fb059b41b4582a24" name="a6d81449521d39f73fb059b41b4582a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d81449521d39f73fb059b41b4582a24">&#9670;&#160;</a></span>with_stale_while_revalidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_stale_while_revalidate </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>swr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#aeda4e5c2d629272f30202e16a7c26f9f">Request::set_stale_while_revalidate()</a></span>. </p>

</div>
</div>
<a id="ac7474eb0dda6b9b05394ca5b1fa2de78" name="ac7474eb0dda6b9b05394ca5b1fa2de78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7474eb0dda6b9b05394ca5b1fa2de78">&#9670;&#160;</a></span>with_surrogate_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_surrogate_key </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>sk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#a2cf3641d7280bda6646f8654e3208f54">Request::set_surrogate_key()</a></span>. </p>

</div>
</div>
<a id="a209f7f6b0fc66d2fd1af1acb9419ad85" name="a209f7f6b0fc66d2fd1af1acb9419ad85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209f7f6b0fc66d2fd1af1acb9419ad85">&#9670;&#160;</a></span>with_ttl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_ttl </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ttl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#af6e4e9a778f3d43c431a6d010bde30a0">Request::set_ttl()</a></span>. </p>

</div>
</div>
<a id="a2d26cc516f1d9d2f029790f6f5e3df2e" name="a2d26cc516f1d9d2f029790f6f5e3df2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d26cc516f1d9d2f029790f6f5e3df2e">&#9670;&#160;</a></span>with_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfastly_1_1http_1_1_request.html">Request</a> fastly::http::Request::with_url </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builder-style equivalent of <span class="tt"><a class="el" href="classfastly_1_1http_1_1_request.html#af320efd5bcf6d14d01cb11cd3d0d4ab1">Request::set_url()</a></span>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>target/release/dist/fastly/http/<a class="el" href="request_8h_source.html">request.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacefastly.html">fastly</a></li><li class="navelem"><a href="classfastly_1_1_request.html">Request</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
